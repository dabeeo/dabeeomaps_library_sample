<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- <link rel="stylesheet" href="style.css"> -->
</head>

<body>
    <div id='viewport' class="viewport">
        <div class="inputContainer">
            <input type="text" placeholder="x" class="pointX" />
            <input type='text' placeholder="y" class="pointY" />
            <button type="button" class="inline-input" name="set">set</button>
            <button type="button" class="inline-input" name="clear">clear</button>

        </div>
    </div>
</body>
<script type="text/javascript" src='https://assets.dabeeomaps.com/upload/library/dabeeomaps-4.1.0.js'></script>
<script>
    window.onload = function () {
        const dabeeoMaps = new dabeeo.Maps();
        dabeeoMaps.getMapData({
            clientId: "75hb8YSnAokb-sZ04aDR91",
            clientSecret: "0f7ad84f160c7b3fd1849a7920af718b",
        }).then(async (mapData) => {
            const mapOption = Object.assign({
                camera: "2d"
            });
            const mapContainer = document.getElementById('viewport');
            const map = await dabeeoMaps.showMap(mapContainer, mapOption, mapData);

            document.querySelector("[name='set']").addEventListener('click', function () {
                const x = document.querySelector('.pointX').value ? Number(document.querySelector('.pointX').value) : 1000;
                const y = document.querySelector('.pointY').value ? Number(document.querySelector('.pointY').value) : 1000;

                map.markers.set({
                    marker: [
                        {
                            x: x,
                            y: y,
                            commonOption: {
                                positionZ: 400,
                            },
                        },
                    ],
                })
            });

            document.querySelector("[name='clear']").addEventListener('click', function () {
                console.log('clear all')
                map.markers.clearAll();
            });
        });
    }
</script>

</html>