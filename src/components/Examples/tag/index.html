<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id='viewport' class="viewport">
    <div class="inputContainer">
      <div class="addPOI">addPOI</div>
      <div class="addMarker">addMarker</div>
      <div class="delete">delete</div>
    </div>
  </div>
</body>
<script type="text/javascript" src='https://assets.dabeeomaps.com/upload/library/dabeeomaps-4.0.0.js'></script>
<script>
  window.onload = function() {

    const dabeeoMaps = new dabeeo.Maps();
    dabeeoMaps.getMapData({
      clientId: "75hb8YSnAokb-sZ04aDR91",
      clientSecret: "0f7ad84f160c7b3fd1849a7920af718b",
    }).then( async (mapData) => {
      const mapOption = Object.assign({});
      const mapContainer = document.getElementById('viewport');
      const map = await dabeeoMaps.showMap(mapContainer, mapOption, mapData);

      document.querySelector('.addPOI').addEventListener('click', function() {
        const tag = document.createElement('div'); 
        tag.style.width = '100%';
        tag.style.height = '100%';
        tag.style.backgroundColor = 'rgba(0, 0, 255, 1)';
        tag.style.color = 'white';
        tag.textContent = 'poi Tag';

        map.tag.addTag('poi', 'PO-NMvw3E0pe1690', tag , 300, 100, 'LEFT', true, 'FL-t4vqgyek3jnb8146');
      });

      document.querySelector('.addMarker').addEventListener('click', function() {
        const tag = document.createElement('div'); 
        tag.style.width = '100%'; 
        tag.style.height = '100%';
        tag.style.backgroundColor = 'rgba(0, 255, 0, 1)';
        tag.textContent = 'marker Tag';

        map.markers.draw({
            marker: [
                {
                    position: { x: 3000, y: 1000, z: 400 }, 
                    tagInfo: {  
                        tag: tag,
                        width: 200,
                        height: 200,
                        pos: 'LEFT',
                        isResize: true,
                    }
                }
            ]
        });
      });

      document.querySelector('.delete').addEventListener('click', function() {
        map.markers.clear();
        map.tag.removeAllTag();
      });
    });
  }
</script>
</html>